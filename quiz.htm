<!DOCTYPE html>
<html lang="pt-br">

<head>
	<title>FanQuiz - Lorem ipsum dolor sit amet</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="initial-scale=1, width=device-width">
	<meta name="theme-color" content="#560C98">
	<link rel="icon" href="./img/favicon.png">
	<link rel="stylesheet" type="text/css" href="./css/quiz-page.css">
	<link rel="stylesheet" type="text/css" href="./css/quiz-themes.css">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,700">
</head>

<body>
	<aside>
		<div class="sidebar-thumbnail scale-hover">
			<img class="category-thumb">
		</div>
		<div class="sidebar-menu">
			<a class="sidebar-btn">
				<img src="./img/icons/sidebar-back.svg">
				<span>Voltar Questão</span>
			</a>
			<a class="sidebar-btn">
				<img src="./img/icons/sidebar-reload.svg">
				<span>Reiniciar Quiz</span>
			</a>
			<a class="sidebar-btn">
				<img src="./img/icons/sidebar-home.svg">
				<span>Voltar a Inicial</span>
			</a>
			<a class="sidebar-btn">
				<img src="./img/icons/sidebar-info.svg">
				<span>Informações</span>
			</a>
		</div>
		<div class="sidebar-exit">
			<a class="sidebar-btn">
				<img src="./img/icons/sidebar-exit.svg">
				<span>Sair</span>
			</a>
		</div>
	</aside>
	<main class="default" id="content-main">
		<header>
			<div class="category-title">
				<img id="ic-category">
				<h1 id="title">FanQuiz</h1>
			</div>

			<div class="category-level">
				<div id="level-stars"></div>
				<p>
					<strong>Nível</strong>
					<br>
					<span id="level-text">Médio</span>
				</p>
			</div>
			<div class="category-questnum">
				00
				<strong>00</strong>
			</div>
		</header>

		<section class="question-wrapper">
			<div>
				<img src="./img/icons/nav-arrow-left.svg" class="nav-arrow" id="narrow-back">
				<div style="overflow: hidden; padding: 20px">
					<div class="quiz-question">
						<h2>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sit amet dictum tortor. In interdum erat in leo tempus,
							sed bibendum risus luctus. Mauris non ante mauris donec fermentum?</h2>
						<div class="option01" id="option01">
							<span class="option-letter">a</span>
							<span class="option-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</span>
						</div>
						<div class="option02" id="option02">
							<span class="option-letter">b</span>
							<span class="option-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</span>
						</div>
						<div class="option03" id="option03">
							<span class="option-letter">c</span>
							<span class="option-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</span>
						</div>
						<div class="option04" id="option04">
							<span class="option-letter">d</span>
							<span class="option-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</span>
						</div>
					</div>
				</div>
				<img src="./img/icons/nav-arrow-right.svg" class="nav-arrow disabled" id="narrow-next">
			</div>
		</section>
	</main>
	<script>
		// Script APENAS para fins de teste

		/* ===== Redirect page to select category ===== */

		const { search } = window.location;
		const urlParams = new URLSearchParams(search);
		const category = urlParams.get('category');


		addStarLevel = (level) => {
			for (let i = 1; i <= level; i++) {
				const img = document.createElement("img");
				img.src = "./img/icons/star-level.svg";
				const src = document.getElementById('level-stars');
				src.appendChild(img);
			}
		}

		setCategoryName = () => {
			let level = 0;
			switch (category) {
				case "movies":
					level = 1;
					document.getElementById("title").innerHTML = "Filmes";
					document.getElementById("ic-category").src = "./img/icons/category-movies.svg";
					document.getElementById("level-text").innerHTML = "Fácil"
					addStarLevel(level);
					break;
				case "series":
					level = 2;
					document.getElementById("title").innerHTML = "Séries";
					document.getElementById("ic-category").src = "./img/icons/category-series.svg";
					document.getElementById("level-text").innerHTML = "Médio"
					addStarLevel(level);
					break;
				case "animes":
					level = 2;
					document.getElementById("title").innerHTML = "Animes";
					document.getElementById("ic-category").src = "./img/icons/category-animes.svg";
					document.getElementById("level-text").innerHTML = "Médio"
					addStarLevel(level);
					break;
				case "musics":
					level = 3;
					document.getElementById("title").innerHTML = "Músicas";
					document.getElementById("ic-category").src = "./img/icons/category-musics.svg";
					document.getElementById("level-text").innerHTML = "Difícil"
					addStarLevel(level);
					break;
				default:
					category;
			}
		}

		redirectToInitialPage = () => {
			alert('Para responder as questões, é preciso escolher uma categoria!');
			window.location.replace("./index.htm");
		}

		if (search === "") {
			window.onload = redirectToInitialPage;
		} else {
			const contentMain = document.getElementById('content-main');
			contentMain.setAttribute('class', `${category}`);
			setCategoryName(category);
		}

		/* =================================== */

		let questionArea = document.querySelector(".quiz-question");
		let classes = questionArea.className;
		document.querySelector(".nav-arrow").addEventListener("click", () => {
			questionArea.className += " changeIn changeReverse";
			setTimeout(() => {
				questionArea.className = classes;
				questionArea.className += " changeOut changeReverse";
				setTimeout(() => {
					questionArea.className = classes;
				}, 250);
			}, 250)
		})

		document.querySelector("#narrow-next").addEventListener("click", () => {
			questionArea.className += " changeOut";
			setTimeout(() => {
				questionArea.className = classes;
				questionArea.className += " changeIn";
				setTimeout(() => {
					questionArea.className = classes;
				}, 250);
			}, 250)
		});
	</script>
</body>

</html>